!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,W="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,Y=W.document;function Swipe(s,a){"use strict";var u,t,l={},c={},v=(a=a||{}).auto||0,e=!1,n=function(){},r=function(t){setTimeout(t||n,0)},i=function(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});var d={addEventListener:!!W.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});W.addEventListener("testEvent",null,t),W.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in W||W.DocumentTouch&&Y instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(Y.createElement("swipe"))};if(s){var f,m,h,p,E=s.children[0],y=parseInt(a.startSlide,10)||0,g=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var o,b,T,x=(b="direction",(o=s).currentStyle?T=o.currentStyle[b]:W.getComputedStyle&&(T=W.getComputedStyle(o,null).getPropertyValue(b)),"rtl"===T?"right":"left");a.autoRestart=void 0!==a.autoRestart&&a.autoRestart;var L=function(n,i){i=i||100;var o=null;function r(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;r(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=r,t}(M),w={handleEvent:function(t){if(!e){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":L()}a.stopPropagation&&t.stopPropagation()}},start:function(t){var e,n,i;(Q(t)?(e=t).preventDefault():e=t.touches[0],a.ignore&&e.target.matches(a.ignore))||(l={x:e.pageX,y:e.pageY,time:+new Date},u=void 0,c={},Q(t)?(E.addEventListener("mousemove",this,!1),E.addEventListener("mouseup",this,!1),E.addEventListener("mouseleave",this,!1)):(E.addEventListener("touchmove",this,!!d.passiveEvents&&{passive:!1}),E.addEventListener("touchend",this,!1)),n=O(),i=f[y],a.dragStart&&a.dragStart(n,i))},move:function(t){var e;if(Q(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;a.disableScroll&&i(t)&&t.preventDefault(),e=t.touches[0]}c={x:e.pageX-l.x,y:e.pageY-l.y},void 0===u&&(u=!!(u||Math.abs(c.x)<Math.abs(c.y))),u||(i(t)&&t.preventDefault(),N(),a.continuous?(C(j(y-1),c.x+m[j(y-1)],0),C(y,c.x+m[y],0),C(j(y+1),c.x+m[j(y+1)],0)):(c.x=c.x/(!y&&0<c.x||y===f.length-1&&c.x<0?Math.abs(c.x)/h+1:1),C(y-1,c.x+m[y-1],0),C(y,c.x+m[y],0),C(y+1,c.x+m[y+1],0)))},end:function(t){var e=+new Date-l.time,n=Number(e)<250&&20<Math.abs(c.x)||Math.abs(c.x)>h/2,i=!y&&0<c.x||y===f.length-1&&c.x<0;a.continuous&&(i=!1);var o,r,s=Math.abs(c.x)/c.x;u||(n&&!i?(y=s<0?(a.continuous?(R(j(y-1),-h,0),R(j(y+2),h,0)):R(y-1,-h,0),R(y,m[y]-h,g),R(j(y+1),m[j(y+1)]-h,g),j(y+1)):(a.continuous?(R(j(y+1),h,0),R(j(y-2),-h,0)):R(y+1,h,0),R(y,m[y]+h,g),R(j(y-1),m[j(y-1)]+h,g),j(y-1)),z(O(),f[y],s)):a.continuous?(R(j(y-1),-h,g),R(y,0,g),R(j(y+1),h,g)):(R(y-1,-h,g),R(y,0,g),R(y+1,h,g))),Q(t)?(E.removeEventListener("mousemove",w,!1),E.removeEventListener("mouseup",w,!1),E.removeEventListener("mouseleave",w,!1)):(E.removeEventListener("touchmove",w,!!d.passiveEvents&&{passive:!1}),E.removeEventListener("touchend",w,!1)),o=O(),r=f[y],a.dragEnd&&a.dragEnd(o,r)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===y&&((v||a.autoRestart)&&X(),A(O(),f[y]))}};return M(),I(),{setup:M,slide:function(t,e){N(),P(t,e)},prev:function(){N(),function(){if(e)return;a.continuous?P(y-1):y&&P(y-1)}()},next:function(){N(),k()},restart:X,stop:N,getPos:O,disable:function(){N(),e=!0},enable:function(){e=!1,X()},getNumSlides:function(){return p},kill:function(){N(),s.style.visibility="",E.style.width="",E.style[x]="";var t=f.length;for(;t--;){d.transitions&&C(t,0,0);var e=f[t];if(e.getAttribute("data-cloned")){var n=e.parentElement;n.removeChild(e)}e.style.width="",e.style[x]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}D(),L.cancel()}}}function D(){d.addEventListener?(E.removeEventListener("touchstart",w,!!d.passiveEvents&&{passive:!0}),E.removeEventListener("mousedown",w,!1),E.removeEventListener("webkitTransitionEnd",w,!1),E.removeEventListener("msTransitionEnd",w,!1),E.removeEventListener("oTransitionEnd",w,!1),E.removeEventListener("otransitionend",w,!1),E.removeEventListener("transitionend",w,!1),W.removeEventListener("resize",w,!1)):W.onresize=null}function S(t){var e=t.cloneNode(!0);E.appendChild(e),e.setAttribute("data-cloned",!0),e.removeAttribute("id")}function M(t){if(null!=t)for(var e in t)a[e]=t[e];f=E.children,p=f.length;for(var n=0;n<f.length;n++)f[n].getAttribute("data-cloned")&&p--;if(f.length<2&&(a.continuous=!1),d.transitions&&a.continuous&&f.length<3&&(S(f[0]),S(f[1]),f=E.children),"right"===x)for(var i=0;i<f.length;i++)f[i].style.float="right";m=new Array(f.length),h=s.getBoundingClientRect().width||s.offsetWidth,E.style.width=f.length*h*2+"px";for(var o=f.length;o--;){var r=f[o];r.style.width=h+"px",r.setAttribute("data-index",o),d.transitions&&(r.style[x]=o*-h+"px",R(o,o<y?-h:y<o?h:0,0))}a.continuous&&d.transitions&&(R(j(y-1),-h,0),R(j(y+1),h,0)),d.transitions||(E.style[x]=y*-h+"px"),s.style.visibility="visible",D(),d.addEventListener?(d.touch&&E.addEventListener("touchstart",w,!!d.passiveEvents&&{passive:!0}),a.draggable&&E.addEventListener("mousedown",w,!1),d.transitions&&(E.addEventListener("webkitTransitionEnd",w,!1),E.addEventListener("msTransitionEnd",w,!1),E.addEventListener("oTransitionEnd",w,!1),E.addEventListener("otransitionend",w,!1),E.addEventListener("transitionend",w,!1)),W.addEventListener("resize",w,!1)):W.onresize=L}function k(){e||(a.continuous?P(y+1):y<f.length-1&&P(y+1))}function z(t,e,n){a.callback&&a.callback(t,e,n)}function A(t,e){a.transitionEnd&&a.transitionEnd(t,e)}function j(t){return(f.length+t%f.length)%f.length}function O(){var t=y;return p<=t&&(t-=p),t}function P(t,e){if(t="number"!=typeof t?parseInt(t,10):t,y!==t){if(d.transitions){var n=Math.abs(y-t)/(y-t);if(a.continuous){var i=n;(n=-m[j(t)]/h)!==i&&(t=-n*f.length+t)}for(var o=Math.abs(y-t)-1;o--;)R(j((y<t?t:y)-o-1),h*n,0);t=j(t),R(y,h*n,e||g),R(t,0,e||g),a.continuous&&R(j(t-n),-h*n,0)}else t=j(t),function(e,n,i){if(!i)return E.style[x]=n+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return E.style[x]=n+"px",(v||a.autoRestart)&&X(),A(O(),f[y]),void clearInterval(r);E.style[x]=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(y*-h,t*-h,e||g);y=t,r(function(){z(O(),f[y],n)})}}function R(t,e,n){C(t,e,n),m[t]=e}function C(t,e,n){var i=f[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform=o.msTransform=o.MozTransform=o.OTransform=o.transform="translateX("+e+"px)")}function I(){(v=a.auto||0)&&(t=setTimeout(k,v))}function N(){v=0,clearTimeout(t)}function X(){N(),I()}function Q(t){return/^mouse/.test(t.type)}}return(W.jQuery||W.Zepto)&&((e=W.jQuery||W.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});